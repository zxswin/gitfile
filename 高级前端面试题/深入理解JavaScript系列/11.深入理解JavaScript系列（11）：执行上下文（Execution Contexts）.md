# 深入理解 JavaScript 系列（11）：执行上下文（Execution Contexts）

- 关于执行上下文

```js
/**
 * 执行可执行代码的时候，即会进入到一个执行上下文
 * 活动的执行上下文组在逻辑上组成一个堆栈称为执行上下文堆栈
 * 堆栈底部永远都是全局上下文(global context)，而顶部就是当前(活动的)执行上下文。
 * 堆栈在执行上下文类型进入和退出上下文的时候被修改（推入或弹出）。
 * 每次return的时候，都会退出当前执行上下文的，相应地ECStack就会弹出，栈指针会自动移动位置
 * 相关代码执行完以后，ECStack只会包含全局上下文(global context)，一直到整个应用程序结束。
 */

(function foo(bar) {
  if (bar) {
    return;
  }
  foo(true);
})();

// 第一次foo的激活调用
ECStack = [
  <foo> functionContext
  globalContext
];

// foo的递归激活调用
ECStack = [
  <foo> functionContext – recursively
  <foo> functionContext
  globalContext
];
```
