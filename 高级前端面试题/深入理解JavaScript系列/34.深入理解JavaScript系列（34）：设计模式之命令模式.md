# 深入理解 JavaScript 系列（34）：设计模式之命令模式

## 基本实现

```js
/**
 * 用于将一个请求封装成一个对象，从而使你可用不同的请求对客户进行参数化；
 * 通过车辆购买程序来展示这个模式
 */
$(function() {
  var CarManager = {
    // 请求信息
    requestInfo: function(model, id) {
      return 'The information for ' + model + ' with ID ' + id + ' is foobar';
    },

    // 购买汽车
    buyVehicle: function(model, id) {
      return 'You have successfully purchased Item ' + id + ', a ' + model;
    },

    // 组织view
    arrangeViewing: function(model, id) {
      return (
        'You have successfully booked a viewing of ' +
        model +
        ' ( ' +
        id +
        ' ) '
      );
    }
  };
})();

// 实现CarManager.execute方法
CarManager.execute = function(command) {
  return CarManager[command.request](command.model, command.carID);
};

// 调用
CarManager.execute({
  request: 'arrangeViewing',
  model: 'Ferrari',
  carID: '145523'
});
CarManager.execute({
  request: 'requestInfo',
  model: 'Ford Mondeo',
  carID: '543434'
});
CarManager.execute({
  request: 'requestInfo',
  model: 'Ford Escort',
  carID: '543434'
});
CarManager.execute({
  request: 'buyVehicle',
  model: 'Ford Escort',
  carID: '543434'
});
```
