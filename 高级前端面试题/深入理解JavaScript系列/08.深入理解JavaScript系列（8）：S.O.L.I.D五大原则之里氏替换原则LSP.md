# 深入理解 JavaScript 系列（8）：S.O.L.I.D 五大原则之里氏替换原则 LSP

- 派生类型必须可以替换它的基类型。

```js
/**
 * 五大原则：
  The Single Responsibility Principle（单一职责SRP）
  The Open/Closed Principle（开闭原则OCP）
  The Liskov Substitution Principle（里氏替换原则LSP）
  The Interface Segregation Principle（接口分离原则ISP）
  The Dependency Inversion Principle（依赖反转原则DIP）

  
 * 原则描述：派生类型必须可以替换它的基类型。
 * 尽量使用对象组合而不是类继承
 */

/**
 * 一个矩形的例子
 */
var rectangle = {
  length: 0,
  width: 0
};

var square = {};
(function() {
  var length = 0,
    width = 0;
  // 注意defineProperty方式是262-5版的新特性
  Object.defineProperty(square, 'length', {
    get: function() {
      return length;
    },
    set: function(value) {
      length = width = value;
    }
  });
  Object.defineProperty(square, 'width', {
    get: function() {
      return width;
    },
    set: function(value) {
      length = width = value;
    }
  });
})();

/** 该方法在调用的时候，结果是16，而不是期望的12，我们的正方形square对象违反了LSP原则  */
var g = function(rectangle) {
  rectangle.length = 3;
  rectangle.width = 4;
  write(rectangle.length);
  write(rectangle.width);
  write(rectangle.length * rectangle.width);
};
```
